(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/coupon/buyParkingTicket"],{"00cb":function(e,n,t){"use strict";(function(e,n){var a=t("4ea4");t("c530");a(t("66fd"));var r=a(t("8432"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(r.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},"0b43":function(e,n,t){"use strict";var a=t("2421"),r=t.n(a);r.a},"1c0e":function(e,n,t){"use strict";t.r(n);var a=t("ef89"),r=t.n(a);for(var c in a)["default"].indexOf(c)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(c);n["default"]=r.a},2421:function(e,n,t){},8432:function(e,n,t){"use strict";t.r(n);var a=t("c5cc"),r=t("1c0e");for(var c in r)["default"].indexOf(c)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(c);t("0b43");var o=t("f0c5"),i=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);n["default"]=i.exports},c5cc:function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){}));var a=function(){var e=this.$createElement;this._self._c},r=[]},ef89:function(e,n,t){"use strict";(function(e){var a=t("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(t("2eee")),c=a(t("c973")),o=t("6d37"),i=t("8981"),u={data:function(){return{current:0,value:"",num:"",time:"",rechargeRatio:1,timeCouponPrice:"",timesCouponPrice:"",list1:[{name:"金额券"},{name:"时长券"},{name:"次数券"}],shopInfo:{}}},onLoad:function(e){e.shopInfo&&(this.shopInfo=JSON.parse(e.shopInfo))},methods:{changeCurrent:function(e){this.current=e},click:function(e){console.log("item",e),this.current=e},pay:function(){var n=this;return(0,c.default)(r.default.mark((function t(){var a,c;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n,0!=n.current){t.next=4;break}if(n.value){t.next=4;break}return t.abrupt("return");case 4:if(1!=n.current){t.next=7;break}if(n.time){t.next=7;break}return t.abrupt("return");case 7:if(2!=n.current){t.next=10;break}if(n.num){t.next=10;break}return t.abrupt("return");case 10:return a=0==n.current?n.value:1==n.current?n.time:n.num,t.next=13,(0,o.rechargeCouponActivity)({couponActivityId:n.shopInfo.id,couponType:0==n.current?2:1==n.current?3:1,paymentScenes:"wx_mp",quantity:a,appid:i.wxAppid});case 13:if(c=t.sent,console.log(c),10002==c.code){t.next=20;break}return e.showToast({title:c.message,icon:"none"}),t.abrupt("return");case 20:e.requestPayment({provider:"wxpay",timeStamp:c.data.timeStamp,nonceStr:c.data.nonceStr,package:c.data.package,signType:c.data.signType,paySign:c.data.paySign,success:function(n){console.log(n),"requestPayment:ok"==n.errMsg&&(e.showToast({title:"支付成功",icon:"none"}),setTimeout((function(){e.navigateBack()}),1500))},fail:function(n){console.log("fail:"+JSON.stringify(n)),e.showToast({title:"支付已取消",icon:"none"})}});case 21:case"end":return t.stop()}}),t)})))()},wxPay:function(n){var t=this;window.WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:n.appId,timeStamp:String(n.timeStamp),nonceStr:n.nonceStr,package:n.package,signType:n.signType,paySign:n.sign},(function(n){t.payDisabled=!1,t.payLoading=!1,"get_brand_wcpay_request:ok"===n.err_msg?e.showModal({title:"提示",message:"支付成功",confirmColor:"#488cf5"}):"get_brand_wcpay_request:cancel"===n.err_msg?e.showModal({title:"提示",content:"支付取消",confirmColor:"#488cf5"}):e.showModal({title:"提示",message:"支付失败",confirmColor:"#488cf5"})}))}}};n.default=u}).call(this,t("543d")["default"])}},[["00cb","common/runtime","common/vendor"]]]);