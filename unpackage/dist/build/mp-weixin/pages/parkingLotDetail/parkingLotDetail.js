(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/parkingLotDetail/parkingLotDetail"],{"22a6":function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){}));var a=function(){var t=this.$createElement,n=(this._self._c,(this.parkInfo.freeTime/6e4).toFixed(0)),e=(this.parkInfo.distance/1e3).toFixed(2);this.$mp.data=Object.assign({},{$root:{g0:n,g1:e}})},o=[]},"61a0":function(t,n,e){"use strict";(function(t){var a=e("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(e("2eee")),i=a(e("c973")),r=e("6d37"),s={data:function(){return{iconStatusArr:[{name:"充电桩",icon:"cdz@2x",status:!1},{name:"便利店",icon:"bianlidian@2x",status:!1},{name:"卫生间",icon:"wsj@2x",status:!1},{name:"休息室",icon:"xxs@2x",status:!1},{name:"雨棚",icon:"yupeng@2x",status:!1},{name:"简餐",icon:"jz@2x",status:!1},{name:"人工值守",icon:"rgzs@2x",status:!1}],parkId:"",parkInfo:{name:"",address:"",freeTime:"",parkingSpaceNumber:"",usedParkingSpaceNumber:"",distance:0},rulesList:[],locationInfo:{longitude:"",latitude:""}}},onLoad:function(t){this.parkId=t.id,this.getLocation()},methods:{getLocation:function(){var n=this;t.getLocation({type:"wgs84",success:function(t){console.log("当前位置的经度："+t.longitude),console.log("当前位置的纬度："+t.latitude),n.locationInfo.longitude=t.longitude,n.locationInfo.latitude=t.latitude,n.fenchData(),n.fenchRulesData()}})},onOpenMonthlyCard:function(){t.navigateTo({url:"/pages/monthlyCard/choosePackage?parkId="+this.parkId+"&parkName="+this.parkInfo.name})},intoBack:function(){t.navigateBack()},onNavigation:function(){t.openLocation({latitude:this.parkInfo.positionY,longitude:this.parkInfo.positionX,name:this.parkInfo.name,address:this.parkInfo.address,success:function(){console.log("success")}})},fenchRulesData:function(){var n=this;return(0,i.default)(o.default.mark((function e(){var a,i,s,c;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,r.getChargingRulesListByQuery)({carParkId:n.parkId,page:1,size:100});case 2:a=e.sent,i=a.data,s=a.code,c=a.message,console.log(i,s),10002==s?n.rulesList=i:t.showToast({title:c,icon:"none"});case 8:case"end":return e.stop()}}),e)})))()},fenchData:function(){var n=this;return(0,i.default)(o.default.mark((function e(){var a,i,s;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,r.getCarParkInfoById)({carParkId:n.parkId,positionX:n.locationInfo.longitude,positionY:n.locationInfo.latitude});case 2:a=e.sent,i=a.data,s=a.code,console.log(i,s),10002==s?(n.parkInfo=i,n.parkInfo.imageUrl&&(n.parkInfo.newImageUrl=n.parkInfo.imageUrl.split(","))):(t.showToast({title:"获取停车场详情失败",icon:"none"}),setTimeout((function(){t.navigateBack()}),1500));case 7:case"end":return e.stop()}}),e)})))()},previewImage:function(n){t.previewImage({current:n,urls:this.parkInfo.newImageUrl})}}};n.default=s}).call(this,e("543d")["default"])},6339:function(t,n,e){"use strict";e.r(n);var a=e("22a6"),o=e("b069");for(var i in o)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(i);e("a5d5");var r=e("f0c5"),s=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);n["default"]=s.exports},"89c1":function(t,n,e){},a5d5:function(t,n,e){"use strict";var a=e("89c1"),o=e.n(a);o.a},b069:function(t,n,e){"use strict";e.r(n);var a=e("61a0"),o=e.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(i);n["default"]=o.a},e81e:function(t,n,e){"use strict";(function(t,n){var a=e("4ea4");e("c530");a(e("66fd"));var o=a(e("6339"));t.__webpack_require_UNI_MP_PLUGIN__=e,n(o.default)}).call(this,e("bc2e")["default"],e("543d")["createPage"])}},[["e81e","common/runtime","common/vendor"]]]);