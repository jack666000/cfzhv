{"version":3,"sources":["uni-app:///main.js","webpack:///D:/git/weixin/cfzhv3.0/pages/pay/pay.vue?bed5","webpack:///D:/git/weixin/cfzhv3.0/pages/pay/pay.vue?bb4a","webpack:///D:/git/weixin/cfzhv3.0/pages/pay/pay.vue?b11f","webpack:///D:/git/weixin/cfzhv3.0/pages/pay/pay.vue?5750","uni-app:///pages/pay/pay.vue","webpack:///D:/git/weixin/cfzhv3.0/pages/pay/pay.vue?f54b","webpack:///D:/git/weixin/cfzhv3.0/pages/pay/pay.vue?9c81"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","order","carParkName","numberPlate","inTime","outTime","cfOrder","amountsPayable","containCouponAmountsPayable","temporaryLicensePlate","maskShow","couponList","couponDetail","id","filters","formatTimestamp","onLoad","methods","onPay","carParkUseLogId","couponId","paymentScenes","code","message","uni","title","icon","provider","timeStamp","nonceStr","package","signType","paySign","success","url","fail","console","onAliPay","orderInfo","setTimeout","getcouponText","couponType","denomination","onScrollCoupon","showCouponPopup","closeCouponPopup","onNoCoupon","getTimeDifference","fenchData"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,YAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgH;AAChH;AACuD;AACL;AACc;;;AAGhE;AACoL;AACpL,gBAAgB,2LAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,8EAAM;AACR,EAAE,uFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClDA;AAAA;AAAA;AAAA;AAAqrB,CAAgB,mrBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;AC6JzsB;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA;AAAA,eAEA;EACAC;IACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;UACAC;UACAC;QACA;QACAC;MACA;MACAC;MACAC;MACAC;QACAC;MACA;IACA;EACA;EACAC;IACAC;EACA;EACA;EACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAYA;kBACAC;kBACAC;kBACAC;gBACA;cAAA;gBAAA;gBAPArB;gBACAsB;gBACAC;gBAMA;kBACA;oBACAC;sBACAC;sBACAC;oBACA;kBACA;oBACAF;sBACAG;sBACAC;sBACAC;sBACAC;sBACAC;sBACAC;sBACAC;wBACA;0BACAT;4BACAU,sDACA5B,mDACAJ;0BACA;wBACA;sBACA;sBACAiC;wBACAX;0BACAC;0BACAC;wBACA;wBACAU;sBACA;oBACA;kBACA;gBACA;kBACAZ;oBACAC;oBACAC;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAW;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAUA;kBACAlB;kBACAC;kBACAC;gBACA;cAAA;gBAAA;gBAPArB;gBACAsB;gBACAC;gBAMA;kBACAC;oBACAG;oBACAW;oBACAL;sBACA;wBACAT;0BACAC;0BACAC;wBACA;wBACAa;0BACAf;wBACA;sBACA;wBACAA;0BACAC;0BACAC;wBACA;sBACA;oBACA;oBACAS;sBACAC;oBACA;kBACA;gBACA;kBACAZ;oBACAC;oBACAC;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAc;MACA;MACA;MACA;MACA,yBAGA;QAFAC;QACAC;MAEA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAIA;kBACA7B;kBACAC;gBACA;cAAA;gBAAA;gBALApB;gBACAsB;gBAKA;kBACA;oBACAtB;kBACA;kBACA;kBACA;oBACA;oBACA;sBACA;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACpWA;AAAA;AAAA;AAAA;AAAoyC,CAAgB,0tCAAG,EAAC,C;;;;;;;;;;;ACAxzC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/pay/pay.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/pay/pay.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./pay.vue?vue&type=template&id=c10d0c50&\"\nvar renderjs\nimport script from \"./pay.vue?vue&type=script&lang=js&\"\nexport * from \"./pay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pay.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/pay/pay.vue\"\nexport default component.exports","export * from \"-!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=template&id=c10d0c50&\"","var components\ntry {\n  components = {\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.getTimeDifference(_vm.order.inTime, _vm.order.outTime)\n  var f0 = _vm._f(\"formatTimestamp\")(_vm.order.inTime)\n  var f1 = _vm._f(\"formatTimestamp\")(_vm.order.outTime)\n  var m1 = _vm.couponDetail.id ? _vm.getcouponText() : null\n  var g0 = _vm.couponList.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        f0: f0,\n        f1: f1,\n        m1: m1,\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"parkNameBox flex flex-col-center\">\r\n\t\t\t<view class=\"left\">\r\n\t\t\t\t停车场\r\n\t\t\t</view>\r\n\t\t\t<view class=\"right single-line\">\r\n\t\t\t\t{{order.carParkName}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"licensePlateBox\">\r\n\t\t\t<view class=\"flex flex-col-center\" style=\"height: 50%;\">\r\n\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t车牌\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right single-line\">\r\n\t\t\t\t\t{{order.numberPlate}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex flex-col-center\" style=\"height: 50%;\">\r\n\t\t\t\t<view class=\"left\" style=\"width: 128rpx;\">\r\n\t\t\t\t\t停车时长\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right single-line\" style=\"width: 502rpx;margin-left: 0;\">\r\n\t\t\t\t\t{{getTimeDifference(order.inTime,order.outTime)}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t<ad unit-id=\"adunit-45c6226173a656b5\"></ad>\r\n\t\t<!-- #endif -->\r\n\t\t<view class=\"licensePlateBox\">\r\n\t\t\t<view class=\"flex flex-col-center\" style=\"height: 40%;\">\r\n\t\t\t\t<view class=\"left\" style=\"width: 128rpx;\">\r\n\t\t\t\t\t入场时间\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right single-line\" style=\"width: 502rpx;margin-left: 0;\">\r\n\t\t\t\t\t{{order.inTime | formatTimestamp}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex flex-col-center\" style=\"height: 50%;\">\r\n\t\t\t\t<view class=\"left\" style=\"width: 128rpx;\">\r\n\t\t\t\t\t出场时间\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right single-line\" style=\"width: 502rpx;margin-left: 0;\">\r\n\t\t\t\t\t{{order.outTime | formatTimestamp}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"licensePlateBox\" style=\"height: 260rpx;\">\r\n\t\t\t<view class=\"flex flex-col-center\" style=\"height: 25%;\">\r\n\t\t\t\t<view class=\"left\" style=\"width: 128rpx;\">\r\n\t\t\t\t\t应付金额\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right single-line\" style=\"width: 502rpx;margin-left: 0;\">\r\n\t\t\t\t\t¥{{order.cfOrder.amountsPayable}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex flex-col-center\" style=\"height: 25%;\">\r\n\t\t\t\t<view class=\"left\" style=\"width: 128rpx;\">\r\n\t\t\t\t\t实付金额\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right single-line\" style=\"width: 502rpx;margin-left: 0;\">\r\n\t\t\t\t\t¥{{order.cfOrder.containCouponAmountsPayable}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex flex-col-center\" style=\"height: 25%;\">\r\n\t\t\t\t<view class=\"left\" style=\"width: 128rpx;\">\r\n\t\t\t\t\t优惠券\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"flex flex-col-center\">\r\n\t\t\t\t\t<view class=\"right single-line\" style=\"margin-left: 0;width: 486rpx;\" @click=\"showCouponPopup\">\r\n\t\t\t\t\t\t{{couponDetail.id ? getcouponText() : (order.cfCouponList != null ? '选择优惠券' : '暂无优惠券')}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<image v-if=\"order.cfCouponList != null\" src=\"../../static/images/xiala@2x.png\"\r\n\t\t\t\t\t\tstyle=\"width: 16rpx;height: 16rpx;margin-left: 16rpx;\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- <view class=\"flex flex-col-center\" style=\"height: 20%;\"> -->\r\n\t\t\t\t<!-- <view class=\"left\" style=\"width: 128rpx;\"> -->\r\n\t\t\t\t\t<!-- 支付方式 -->\r\n\t\t\t\t<!-- </view> -->\r\n\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t<!-- <view class=\"right single-line\" style=\"width: 502rpx;margin-left: 0;\"> -->\r\n\t\t\t\t\t<!-- 微信支付 -->\r\n\t\t\t\t<!-- </view> -->\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t\t<!-- #ifdef MP-ALIPAY -->\r\n\t\t\t\t<!-- <view class=\"right single-line\" style=\"width: 502rpx;margin-left: 0;\"> -->\r\n\t\t\t\t\t<!-- 支付宝支付 -->\r\n\t\t\t\t<!-- </view> -->\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t<!-- </view> -->\r\n\t\t</view>\r\n\t\t<view class=\"parkNameBox flex flex-col-center\">\r\n\t\t\t<view class=\"left\" style=\"width: 128rpx;\">\r\n\t\t\t\t补缴信息\r\n\t\t\t</view>\r\n\t\t\t<view class=\"right single-line\" style=\"width: 502rpx;margin-left: 0;\">\r\n\t\t\t\t暂无\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"payBox flex flex-row-between\">\r\n\t\t\t<view class=\"flex-col\">\r\n\t\t\t\t<view class=\"flex totalBox\">\r\n\t\t\t\t\t<view class=\"left\">合计</view>\r\n\t\t\t\t\t<view class=\"right\">￥{{order.cfOrder.containCouponAmountsPayable}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"discount\">已优惠¥{{order.cfOrder.amountsPayable-order.cfOrder.containCouponAmountsPayable}}</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t<button class=\"pay\" @click=\"onPay\" :disabled=\"order.cfOrder.status !== 0 && !order.temporaryLicensePlate\">\r\n\t\t\t\t{{order.cfOrder.status == 0 ? '立即支付' : order.temporaryLicensePlate ? '点我开闸' : '无需支付'}}\r\n\t\t\t</button>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<!-- #ifdef MP-ALIPAY -->\r\n\t\t\t<button class=\"pay\" @click=\"onAliPay\" :disabled=\"order.cfOrder.status !== 0 && !order.temporaryLicensePlate\">\r\n\t\t\t\t{{order.cfOrder.status == 0 ? '立即支付' : order.temporaryLicensePlate ? '点我开闸' : '无需支付'}}\r\n\t\t\t</button>\r\n\t\t\t<!-- #endif -->\r\n\t\t</view>\r\n\r\n\t\t<uni-popup ref=\"popup\" type=\"bottom\">\r\n\t\t\t<view style=\"width: 100%;height: 100%;\" class=\"flex\">\r\n\t\t\t\t<view class=\"choose\" @tap.stop>\r\n\t\t\t\t\t<view class=\"flex flex-col-center\">\r\n\t\t\t\t\t\t<view class=\"title\">选择优惠券</view>\r\n\t\t\t\t\t\t<view @click=\"onNoCoupon\" style=\"margin-left: 274rpx;margin-top: 36rpx;color: #488cf5;\">\r\n\t\t\t\t\t\t\t不使用优惠券</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"subtitle\">选择优惠券付款更优惠哦～</view>\r\n\t\t\t\t\t<scroll-view scroll-y=\"true\" style=\"widows: 670rpx;height: 550rpx;\" v-if=\"couponList.length > 0\">\r\n\t\t\t\t\t\t<view class=\"licensePlate bb\" v-for=\"item of couponList\" :key=\"item.id\"\r\n\t\t\t\t\t\t\t@click=\"onScrollCoupon(item)\">\r\n\t\t\t\t\t\t\t<view class=\"title1\" v-if=\"item.couponType == 1\">{{item.denomination}}次 - 次数券</view>\r\n\t\t\t\t\t\t\t<view class=\"title1\" v-if=\"item.couponType == 2\">{{item.denomination}}元 - 金额券</view>\r\n\t\t\t\t\t\t\t<view class=\"title1\" v-if=\"item.couponType == 3\">{{item.denomination / 3600000}}小时 - 时长券\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"subTitle1\">{{item.targetObject}} 可用</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t<view v-else style=\"width: 100%;\" class=\"flex-col flex-col-center\">\r\n\t\t\t\t\t\t<image src=\"../../static/images/nocar.png\"\r\n\t\t\t\t\t\t\tstyle=\"width: 220rpx;height: 108rpx;margin-top:20rpx;\"></image>\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tstyle=\"margin:16rpx 0 0 0;width: 362rpx;height: 32rpx;font-weight: 400;color: #CDCDCD;line-height: 32rpx;\">\r\n\t\t\t\t\t\t\t...(- -)..您还未绑定车牌哦~</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\r\n\t\t<!-- <bindPhonePopup ref=\"bindPhonePopupRef\" @closePhoneShow='closePhoneShow' /> -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetCarParkUseLogOrder,\r\n\t\tpayCarParkUseLogOrder\r\n\t} from '../../network/api.js'\r\n\timport {\r\n\t\ttimeDifference,\r\n\t\tformatTimestamp\r\n\t} from '../../utils/index.js'\r\n\t// import bindPhonePopup from '../../components/bindPhonePopup/index.vue'\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\torder: {\r\n\t\t\t\t\tcarParkName: '',\r\n\t\t\t\t\tnumberPlate: '',\r\n\t\t\t\t\tinTime: '',\r\n\t\t\t\t\toutTime: '',\r\n\t\t\t\t\tcfOrder: {\r\n\t\t\t\t\t\tamountsPayable: '',\r\n\t\t\t\t\t\tcontainCouponAmountsPayable: '',\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttemporaryLicensePlate: false\r\n\t\t\t\t},\r\n\t\t\t\tmaskShow: true,\r\n\t\t\t\tcouponList: [],\r\n\t\t\t\tcouponDetail: {\r\n\t\t\t\t\tid: ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\tformatTimestamp\r\n\t\t},\r\n\t\t// components: {\r\n\t\t// \tbindPhonePopup\r\n\t\t// },\r\n\t\tonLoad(e) {\r\n\t\t\tthis.carParkUseLogId = e.carParkUseLogId\r\n\t\t\tthis.fenchData()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync onPay() {\r\n\t\t\t\t// const user = uni.getStorageSync('user')\r\n\t\t\t\t// if (!user.phone) {\r\n\t\t\t\t// \tthis.$refs.bindPhonePopupRef.showPopup()\r\n\t\t\t\t// \treturn\r\n\t\t\t\t// }\r\n\r\n\r\n\t\t\t\tconst {\r\n\t\t\t\t\tdata,\r\n\t\t\t\t\tcode,\r\n\t\t\t\t\tmessage\r\n\t\t\t\t} = await payCarParkUseLogOrder({\r\n\t\t\t\t\tcarParkUseLogId: this.carParkUseLogId,\r\n\t\t\t\t\tcouponId: this.couponDetail.id,\r\n\t\t\t\t\tpaymentScenes: 'wx_mp'\r\n\t\t\t\t})\r\n\t\t\t\tif (code === 10002) {\r\n\t\t\t\t\tif (data == null) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: message,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\tprovider: 'wxpay',\r\n\t\t\t\t\t\t\ttimeStamp: data.timeStamp,\r\n\t\t\t\t\t\t\tnonceStr: data.nonceStr,\r\n\t\t\t\t\t\t\tpackage: data.package,\r\n\t\t\t\t\t\t\tsignType: data.signType,\r\n\t\t\t\t\t\t\tpaySign: data.paySign,\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tif (res.errMsg == 'requestPayment:ok') {\r\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\turl: '/pages/pay/paymentComplete?price=' + this.order\r\n\t\t\t\t\t\t\t\t\t\t\t.cfOrder.amountsPayable + '&parkName=' + this.order\r\n\t\t\t\t\t\t\t\t\t\t\t.carParkName\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: err,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: message,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync onAliPay() {\r\n\t\t\t\t// const user = uni.getStorageSync('user')\r\n\t\t\t\t// if (!user.phone) {\r\n\t\t\t\t// \tthis.$refs.bindPhonePopupRef.showPopup()\r\n\t\t\t\t// \treturn\r\n\t\t\t\t// }\r\n\t\t\t\tconst {\r\n\t\t\t\t\tdata,\r\n\t\t\t\t\tcode,\r\n\t\t\t\t\tmessage\r\n\t\t\t\t} = await payCarParkUseLogOrder({\r\n\t\t\t\t\tcarParkUseLogId: this.carParkUseLogId,\r\n\t\t\t\t\tcouponId: '',\r\n\t\t\t\t\tpaymentScenes: 'ali_mp'\r\n\t\t\t\t})\r\n\t\t\t\tif (code === 10002) {\r\n\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\tprovider: 'alipay',\r\n\t\t\t\t\t\torderInfo: data.alipay_trade_create_response.trade_no,\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tif (res.resultCode == '9000') {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '支付成功',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t\t\t}, 1500);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: res.memo,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\tconsole.log('fail:' + JSON.stringify(err));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: message,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetcouponText() {\r\n\t\t\t\t// 1-次数券/2-金额券/3-时长券\r\n\t\t\t\tconst arrs = ['次数券', '金额券', '时长券']\r\n\t\t\t\tconst arrs2 = ['次', '元', '小时']\r\n\t\t\t\tconst {\r\n\t\t\t\t\tcouponType,\r\n\t\t\t\t\tdenomination\r\n\t\t\t\t} = this.couponDetail;\r\n\t\t\t\tconst couponValue = couponType === 3 ? denomination / 3600000 : denomination;\r\n\t\t\t\tconst couponLabel = `${arrs2[couponType - 1]} - ${arrs[couponType - 1]}`;\r\n\t\t\t\tconst result = couponValue + ' ' + couponLabel;\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\t\t\tonScrollCoupon(item) {\r\n\t\t\t\tthis.couponDetail = item\r\n\t\t\t\tthis.fenchData()\r\n\t\t\t\tthis.closeCouponPopup()\r\n\t\t\t},\r\n\t\t\tshowCouponPopup() {\r\n\t\t\t\tif (this.couponList.length > 0) {\r\n\t\t\t\t\tthis.$refs.popup.open('bottom')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcloseCouponPopup() {\r\n\t\t\t\tthis.$refs.popup.close()\r\n\t\t\t},\r\n\t\t\tonNoCoupon() {\r\n\t\t\t\tthis.couponDetail = null\r\n\t\t\t\tthis.closeCouponPopup()\r\n\t\t\t},\r\n\t\t\tgetTimeDifference(inTime, outTime) {\r\n\t\t\t\treturn timeDifference(inTime, outTime)\r\n\t\t\t},\r\n\t\t\tasync fenchData() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tdata,\r\n\t\t\t\t\tcode\r\n\t\t\t\t} = await getCarParkUseLogOrder({\r\n\t\t\t\t\tcarParkUseLogId: this.carParkUseLogId,\r\n\t\t\t\t\tcouponId: this.couponDetail.id\r\n\t\t\t\t})\r\n\t\t\t\tif (code === 10002) {\r\n\t\t\t\t\tif(data.numberPlate.indexOf('临')>=0){\r\n\t\t\t\t\t\tdata.temporaryLicensePlate = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.order = data\r\n\t\t\t\t\tif (data.cfCouponList != null) {\r\n\t\t\t\t\t\tthis.couponList = data.cfCouponList;\r\n\t\t\t\t\t\tif(this.couponList.length>0){\r\n\t\t\t\t\t\t\tthis.couponDetail = this.couponList[0];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage {\r\n\t\tbackground: #F5F7FF;\r\n\t\tpadding-bottom: 300rpx;\r\n\t}\r\n\r\n\t.payBox {\r\n\t\twidth: 686rpx;\r\n\t\theight: 152rpx;\r\n\t\tbackground: #2B3041;\r\n\t\tborder-radius: 75rpx;\r\n\t\tposition: fixed;\r\n\t\tleft: 32rpx;\r\n\t\tbottom: 84rpx;\r\n\r\n\t}\r\n\r\n\t.pay {\r\n\t\twidth: 222rpx;\r\n\t\theight: 96rpx;\r\n\t\tbackground: linear-gradient(270deg, #F3DBA6 0%, #E2B46D 100%);\r\n\t\tborder-radius: 48rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-family: PingFangSC-Medium, PingFang SC;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #5E3400;\r\n\t\tline-height: 96rpx;\r\n\t\ttext-align: center;\r\n\t\tmargin: 28rpx 44rpx 0 0;\r\n\t}\r\n\r\n\t.totalBox {\r\n\t\t.left {\r\n\t\t\tfont-size: 32rpx;\r\n\r\n\t\t\tfont-weight: 400;\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t\tmargin: 46rpx 0 0 58rpx;\r\n\t\t}\r\n\r\n\t\t.right {\r\n\t\t\tfont-size: 52rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: #EFB25A;\r\n\t\t\tmargin: 26rpx 0 0 20rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.discount {\r\n\t\theight: 34rpx;\r\n\t\tfont-size: 24rpx;\r\n\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #FFFFFF;\r\n\t\tline-height: 34rpx;\r\n\t\tmargin: 0rpx 0 0 58rpx;\r\n\t\topacity: .7;\r\n\t}\r\n\r\n\t.licensePlateBox {\r\n\t\twidth: 698rpx;\r\n\t\theight: 160rpx;\r\n\t\tbackground: #FFFFFF;\r\n\t\tborder-radius: 10rpx;\r\n\t\tmargin: 20rpx 0 0 26rpx;\r\n\r\n\t\t.left {\r\n\t\t\twidth: 96rpx;\r\n\t\t\tfont-size: 32rpx;\r\n\r\n\t\t\tfont-weight: 400;\r\n\t\t\tcolor: rgba(50, 50, 51, 0.6);\r\n\t\t\tmargin-left: 32rpx;\r\n\t\t}\r\n\r\n\t\t.right {\r\n\t\t\twidth: 502rpx;\r\n\t\t\tfont-size: 32rpx;\r\n\r\n\t\t\tfont-weight: 400;\r\n\t\t\tcolor: #323233;\r\n\t\t\tmargin-left: 36rpx;\r\n\t\t\ttext-align: right;\r\n\t\t}\r\n\t}\r\n\r\n\t.parkNameBox {\r\n\t\twidth: 698rpx;\r\n\t\theight: 100rpx;\r\n\t\tbackground: #FFFFFF;\r\n\t\tborder-radius: 10rpx;\r\n\t\tmargin: 32rpx 0 0 26rpx;\r\n\r\n\t\t.left {\r\n\t\t\twidth: 96rpx;\r\n\t\t\theight: 44rpx;\r\n\t\t\tfont-size: 32rpx;\r\n\r\n\t\t\tfont-weight: 400;\r\n\t\t\tcolor: rgba(50, 50, 51, 0.6);\r\n\t\t\tline-height: 44rpx;\r\n\t\t\tmargin-left: 32rpx;\r\n\t\t}\r\n\r\n\t\t.right {\r\n\t\t\twidth: 502rpx;\r\n\t\t\theight: 44rpx;\r\n\t\t\tfont-size: 32rpx;\r\n\r\n\t\t\tfont-weight: 400;\r\n\t\t\tcolor: #323233;\r\n\t\t\tline-height: 44rpx;\r\n\t\t\tmargin-left: 36rpx;\r\n\t\t\ttext-align: right;\r\n\t\t}\r\n\t}\r\n\r\n\t.choose {\r\n\t\twidth: 750rpx;\r\n\t\t// height: 530rpx;\r\n\t\tbackground: #FFFFFF;\r\n\t\tborder-radius: 48rpx 48rpx 0rpx 0rpx;\r\n\t\talign-self: flex-end;\r\n\r\n\t\t.title {\r\n\t\t\theight: 60rpx;\r\n\t\t\tfont-size: 44rpx;\r\n\t\t\tfont-family: PingFangSC-Semibold, PingFang SC;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: #323233;\r\n\t\t\tline-height: 60rpx;\r\n\t\t\tmargin: 40rpx 0 0 40rpx;\r\n\t\t}\r\n\r\n\t\t.subtitle {\r\n\t\t\theight: 34rpx;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tfont-family: PingFangSC-Regular, PingFang SC;\r\n\t\t\tfont-weight: 400;\r\n\t\t\tcolor: #323233;\r\n\t\t\tline-height: 34rpx;\r\n\t\t\tmargin: 4rpx 0 0 40rpx;\r\n\t\t}\r\n\r\n\t\t.licensePlate {\r\n\t\t\tbackground: #F8F9FB;\r\n\t\t\tborder-radius: 12rpx;\r\n\t\t\tborder: 2rpx solid rgba(151, 151, 151, 0.08);\r\n\t\t\twidth: 670rpx;\r\n\t\t\theight: 136rpx;\r\n\t\t\tborder-radius: 12rpx;\r\n\t\t\tfont-size: 44rpx;\r\n\t\t\tfont-family: PingFangSC-Medium, PingFang SC;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tcolor: #323233;\r\n\t\t\tline-height: 136rpx;\r\n\t\t\tpadding-left: 32rpx;\r\n\t\t\tmargin-left: 42rpx;\r\n\t\t\tmargin-top: 40rpx;\r\n\r\n\t\t\t.title1 {\r\n\t\t\t\t// width: 116rpx;\r\n\t\t\t\theight: 60rpx;\r\n\t\t\t\tfont-size: 44rpx;\r\n\t\t\t\tfont-family: PingFangSC-Medium, PingFang SC;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\tcolor: #323233;\r\n\t\t\t\tline-height: 60rpx;\r\n\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.subTitle1 {\r\n\t\t\t\twidth: 284rpx;\r\n\t\t\t\theight: 32rpx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tfont-family: PingFangSC-Regular, PingFang SC;\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tcolor: #323233;\r\n\t\t\t\tline-height: 32rpx;\r\n\t\t\t\tmargin-top: 4rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.addCarBox {\r\n\t\t\twidth: 670rpx;\r\n\t\t\theight: 136rpx;\r\n\t\t\tbackground: rgba(72, 140, 245, 0.08);\r\n\t\t\tborder-radius: 12rpx;\r\n\t\t\tborder: 3rpx dashed #488CF5;\r\n\t\t\tmargin: 46rpx 0 0 40rpx;\r\n\t\t\tmargin-bottom: 32rpx;\r\n\t\t\tmargin-top: 20rpx;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 32rpx;\r\n\t\t\t\theight: 32rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.text {\r\n\t\t\t\twidth: 144rpx;\r\n\t\t\t\theight: 50rpx;\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tfont-family: PingFangSC-Regular, PingFang SC;\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tcolor: #488CF5;\r\n\t\t\t\tline-height: 50rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/hbuilderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1710756419365\n      var cssReload = require(\"D:/Program Files/hbuilderx/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}